package main

import (
	"fmt"
	"regexp"
	"strings"
)

func main() {
	re := regexp.MustCompile(`foo.?`)
	fmt.Printf("%q\n", re.FindAll([]byte(`seafood fool`), -1))

	s := `{"insert_ts":"2021-02-16 04:55:47.505453 UTC","ts":"2021-02-16 04:55:46.462943 UTC","source_id":"f5_deos_agent","evt":{"dataSetName":"avr-data","payload":"{\"msg\":[{\"legacy_msg\":\"errdefs_msgno=\\\"22282243\\\",STAT_SRC=\\\"TMSTAT\\\",Hostname=\\\"host-10-144-75-89.VIO\\\",SlotId=\\\"0\\\",AggrInterval=\\\"30\\\",EOCTimestamp=\\\"1613451300\\\",globalBigiqConf=\\\"N/A\\\"\"},{\"legacy_msg\":\"Hostname=\\\"host-10-144-75-89.VIO\\\",SlotId=\\\"0\\\",errdefs_msgno=\\\"22323200\\\",STAT_SRC=\\\"TMSTAT\\\",Entity=\\\"globalThroughput\\\",EOCTimestamp=\\\"1613451300\\\",AggrInterval=\\\"30\\\",HitCount=\\\"3\\\",slot=\\\"0\\\",cpu=\\\"0\\\",globalBigiqConf=\\\"N/A\\\",bytes_in=\\\"0\\\",bytes_out=\\\"0\\\"\"},{\"legacy_msg\":\"Hostname=\\\"host-10-144-75-89.VIO\\\",SlotId=\\\"0\\\",errdefs_msgno=\\\"22323200\\\",STAT_SRC=\\\"TMSTAT\\\",Entity=\\\"globalThroughput\\\",EOCTimestamp=\\\"1613451300\\\",AggrInterval=\\\"30\\\",HitCount=\\\"3\\\",slot=\\\"0\\\",cpu=\\\"1\\\",globalBigiqConf=\\\"N/A\\\",bytes_in=\\\"216\\\",bytes_out=\\\"160\\\"\"},{\"legacy_msg\":\"Hostname=\\\"host-10-144-75-89.VIO\\\",SlotId=\\\"0\\\",errdefs_msgno=\\\"22323200\\\",STAT_SRC=\\\"TMSTAT\\\",Entity=\\\"globalThroughput\\\",EOCTimestamp=\\\"1613451300\\\",AggrInterval=\\\"30\\\",HitCount=\\\"3\\\",slot=\\\"0\\\",cpu=\\\"2\\\",globalBigiqConf=\\\"N/A\\\",bytes_in=\\\"0\\\",bytes_out=\\\"0\\\"\"},{\"legacy_msg\":\"Hostname=\\\"host-10-144-75-89.VIO\\\",SlotId=\\\"0\\\",errdefs_msgno=\\\"22323200\\\",STAT_SRC=\\\"TMSTAT\\\",Entity=\\\"globalThroughput\\\",EOCTimestamp=\\\"1613451300\\\",AggrInterval=\\\"30\\\",HitCount=\\\"3\\\",slot=\\\"0\\\",cpu=\\\"3\\\",globalBigiqConf=\\\"N/A\\\",bytes_in=\\\"0\\\",bytes_out=\\\"0\\\"\"},{\"legacy_msg\":\"Hostname=\\\"host-10-144-75-89.VIO\\\",SlotId=\\\"0\\\",errdefs_msgno=\\\"22323200\\\",STAT_SRC=\\\"TMSTAT\\\",Entity=\\\"globalThroughput\\\",EOCTimestamp=\\\"1613451300\\\",AggrInterval=\\\"30\\\",HitCount=\\\"3\\\",slot=\\\"0\\\",cpu=\\\"4\\\",globalBigiqConf=\\\"N/A\\\",bytes_in=\\\"864\\\",bytes_out=\\\"596\\\"\"},{\"legacy_msg\":\"Hostname=\\\"host-10-144-75-89.VIO\\\",SlotId=\\\"0\\\",errdefs_msgno=\\\"22323200\\\",STAT_SRC=\\\"TMSTAT\\\",Entity=\\\"globalThroughput\\\",EOCTimestamp=\\\"1613451300\\\",AggrInterval=\\\"30\\\",HitCount=\\\"3\\\",slot=\\\"0\\\",cpu=\\\"5\\\",globalBigiqConf=\\\"N/A\\\",bytes_in=\\\"0\\\",bytes_out=\\\"0\\\"\"},{\"legacy_msg\":\"Hostname=\\\"host-10-144-75-89.VIO\\\",SlotId=\\\"0\\\",errdefs_msgno=\\\"22323200\\\",STAT_SRC=\\\"TMSTAT\\\",Entity=\\\"globalThroughput\\\",EOCTimestamp=\\\"1613451300\\\",AggrInterval=\\\"30\\\",HitCount=\\\"3\\\",slot=\\\"0\\\",cpu=\\\"6\\\",globalBigiqConf=\\\"N/A\\\",bytes_in=\\\"0\\\",bytes_out=\\\"0\\\"\"},{\"legacy_msg\":\"Hostname=\\\"host-10-144-75-89.VIO\\\",SlotId=\\\"0\\\",errdefs_msgno=\\\"22323200\\\",STAT_SRC=\\\"TMSTAT\\\",Entity=\\\"globalThroughput\\\",EOCTimestamp=\\\"1613451300\\\",AggrInterval=\\\"30\\\",HitCount=\\\"3\\\",slot=\\\"0\\\",cpu=\\\"7\\\",globalBigiqConf=\\\"N/A\\\",bytes_in=\\\"432\\\",bytes_out=\\\"320\\\"\"},{\"legacy_msg\":\"Hostname=\\\"host-10-144-75-89.VIO\\\",SlotId=\\\"0\\\",errdefs_msgno=\\\"22323201\\\",STAT_SRC=\\\"TMSTAT\\\",Entity=\\\"cpuUtilization\\\",EOCTimestamp=\\\"1613451300\\\",AggrInterval=\\\"30\\\",HitCount=\\\"3\\\",slot=\\\"0\\\",cpu=\\\"0\\\",plane=\\\"control\\\",globalBigiqConf=\\\"N/A\\\",user_ticks=\\\"78\\\",system_ticks=\\\"60\\\",idle_ticks=\\\"790\\\",nice=\\\"0\\\",iowait=\\\"35\\\",irq=\\\"0\\\",softirq=\\\"1\\\",plane_name=\\\"control\\\"\"},{\"legacy_msg\":\"Hostname=\\\"host-10-144-75-89.VIO\\\",SlotId=\\\"0\\\",errdefs_msgno=\\\"22323201\\\",STAT_SRC=\\\"TMSTAT\\\",Entity=\\\"cpuUtilization\\\",EOCTimestamp=\\\"1613451300\\\",AggrInterval=\\\"30\\\",HitCount=\\\"3\\\",slot=\\\"0\\\",cpu=\\\"1\\\",plane=\\\"control\\\",globalBigiqConf=\\\"N/A\\\",user_ticks=\\\"50\\\",system_ticks=\\\"48\\\",idle_ticks=\\\"866\\\",nice=\\\"0\\\",iowait=\\\"0\\\",irq=\\\"0\\\",softirq=\\\"1\\\",plane_name=\\\"control\\\"\"},{\"legacy_msg\":\"Hostname=\\\"host-10-144-75-89.VIO\\\",SlotId=\\\"0\\\",errdefs_msgno=\\\"22323201\\\",STAT_SRC=\\\"TMSTAT\\\",Entity=\\\"cpuUtilization\\\",EOCTimestamp=\\\"1613451300\\\",AggrInterval=\\\"30\\\",HitCount=\\\"3\\\",slot=\\\"0\\\",cpu=\\\"2\\\",plane=\\\"control\\\",globalBigiqConf=\\\"N/A\\\",user_ticks=\\\"49\\\",system_ticks=\\\"47\\\",idle_ticks=\\\"848\\\",nice=\\\"0\\\",iowait=\\\"18\\\",irq=\\\"0\\\",softirq=\\\"0\\\",plane_name=\\\"control\\\"\"},{\"legacy_msg\":\"Hostname=\\\"host-10-144-75-89.VIO\\\",SlotId=\\\"0\\\",errdefs_msgno=\\\"22323201\\\",STAT_SRC=\\\"TMSTAT\\\",Entity=\\\"cpuUtilization\\\",EOCTimestamp=\\\"1613451300\\\",AggrInterval=\\\"30\\\",HitCount=\\\"3\\\",slot=\\\"0\\\",cpu=\\\"3\\\",plane=\\\"control\\\",globalBigiqConf=\\\"N/A\\\",user_ticks=\\\"42\\\",system_ticks=\\\"46\\\",idle_ticks=\\\"83`
	re2 := regexp.MustCompile(`errdefs_msgno=(\\\\\\"([\d]{8}))`)

	for _, i := range re2.FindAllString(s, -1) {
		i = strings.Replace(i, `errdefs_msgno=\\\"`, "", -1)
		fmt.Println(i)
	}

}
